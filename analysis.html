<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript">
      (function(c,l,a,r,i,t,y){
          c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
          t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
          y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
      })(window, document, "clarity", "script", "rjcmw8dsxw");
  </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico.png" />
    <title>TrackVest - Investment Analysis</title>
    <style>
      /* Preserve original styles */
      .menu {
        margin: 0;
        padding-left: 100px;
      }
      .user img {
        height: 30px;
        width: 30px;
        background: none;
        top: 15%;
        position: absolute;
        float: right;
        left: 98%;
        overflow: hidden;
      }
      .user .logOut {
        display: none;
        height: 40px;
        width: 90px;
        background-color: white;
        top: 20%;
        position: absolute;
        float: right;
        left: 94%;
        color: red;
        font-size: 20px;
        text-align: center;
        font-weight: 500;
      }

      /* Analysis specific styles */
      .analysis-container {
        background-color: #dee1e6;
        min-height: 100vh;
        padding: 30px 20px;
      }

      .analysis-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
      }

      .analysis-header h1 {
        font-size: 32px;
        font-weight: bold;
      }

      .analysis-card {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 20px;
        margin-bottom: 20px;
      }

      .total-investments {
        text-align: center;
        padding: 20px;
      }

      .investment-amount {
        font-size: 24px;
        font-weight: bold;
        margin-top: 10px;
      }

      .chart-container {
        max-width: 600px;
        margin: 0 auto;
      }

      .performance-metrics {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        margin-top: 20px;
      }

      .metric-card {
        background-color: #f8f9fa;
        border-radius: 8px;
        padding: 15px;
        width: 48%;
        margin-bottom: 15px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      .metric-card h3 {
        font-size: 16px;
        margin-bottom: 10px;
        color: #555;
      }

      .metric-value {
        font-size: 22px;
        font-weight: bold;
      }

      .metric-change {
        font-size: 14px;
        margin-left: 8px;
      }

      .positive-change {
        color: #28a745;
      }

      .negative-change {
        color: #dc3545;
      }

      .investment-table {
        width: 100%;
        margin-top: 20px;
      }

      .investment-table th {
        background-color: #f8f9fa;
        padding: 12px;
        text-align: left;
      }

      .investment-table td {
        padding: 12px;
        border-bottom: 1px solid #eee;
      }

      .service-filters {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 20px;
      }

      .filter-button {
        padding: 8px 16px;
        background-color: #f8f9fa;
        border: 1px solid #ddd;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .filter-button:hover {
        background-color: #e9ecef;
      }

      .filter-button.active {
        background-color: #007bff;
        color: white;
        border-color: #007bff;
      }

      /* Menu toggle for mobile */
      .menu-toggle {
        display: none;
        font-size: 24px;
        cursor: pointer;
        padding: 10px;
        position: absolute;
        top: 30px;
        right: 30px;
        z-index: 1002;
      }
      @media screen and (min-width: 1280px) and (max-width: 1440px) {
        .user .logOut {
          float: right;
          left: 93%;
        }
      }
      /* Mobile Menu Styles */
      @media (max-width: 768px) {
        .menu-toggle {
          display: block;
        }

        nav .menu {
          display: block;
          left: -100%;
          transition: 0.3s;
          overflow-y: auto;
          background-color: black;
          z-index: 1000;
          top: 100px;
          height: calc(100vh - 100px);
          width: 100%;
          position: fixed;
          padding-left: 0;
        }

        nav .menu.active {
          left: 0;
        }

        nav .menu ul {
          display: block;
          width: 100%;
          padding: 0;
          margin: 0;
        }

        nav .menu li {
          margin: 0;
          width: 100%;
          padding: 10px 20px;
          text-align: left;
          box-sizing: border-box;
        }

        /* Fix dropdown positioning */
        .dropdown {
          width: 100%;
          display: block;
        }

        /* Reset all dropdown menus */
        .dropdown-content,
        .stock-market-content,
        .mutual-fund-content,
        .banking-content,
        .post-office-content,
        .real-estate-content {
          position: static;
          width: 100%;
          background-color: #222;
          box-shadow: none;
          margin: 0;
          padding-left: 20px;
        }

        /* Show when active class is applied */
        .dropdown-content.show,
        .stock-market-content.show,
        .mutual-fund-content.show,
        .banking-content.show,
        .post-office-content.show,
        .real-estate-content.show {
          display: block;
        }

        /* Make links more tappable */
        .dropdown-content a,
        .stock-market-content a,
        .mutual-fund-content a,
        .banking-content a,
        .post-office-content a,
        .real-estate-content a {
          padding: 12px 20px;
          display: block;
          color: white;
        }

        /* Remove hover behavior on mobile */
        .dropdown:hover .dropdown-content,
        .stock-market:hover .stock-market-content,
        .mutual-fund:hover .mutual-fund-content,
        .banking:hover .banking-content,
        .post-office:hover .post-office-content,
        .real-estate:hover .real-estate-content {
          display: none;
        }

        /* Add down arrows for clickable items */
        .services:after,
        .stock-market > a:after,
        .mutual-fund > a:after,
        .banking > a:after,
        .post-office > a:after,
        .real-estate > a:after {
          content: " ▼";
          font-size: 10px;
          display: inline-block;
          margin-left: 5px;
        }

        .user img {
          left: 90%;
        }

        .user .logOut {
          left: 84%;
        }

        /* Analysis Mobile Adaptations */
        .analysis-header {
          flex-direction: column;
          align-items: flex-start;
        }

        .metric-card {
          width: 100%;
        }

        .investment-table {
          font-size: 14px;
        }

        .chart-container {
          max-width: 100%;
        }
      }

      /* Smaller screens */
      @media (max-width: 480px) {
        .menu {
          padding-left: 0;
        }

        .user img {
          left: 85%;
        }

        .user .logOut {
          left: 75%;
        }

        .analysis-header h1 {
          font-size: 24px;
        }

        .investment-amount {
          font-size: 20px;
        }

        .metric-value {
          font-size: 18px;
        }
      }
      /* Chart Containers */
      .investment-charts-container {
        display: flex;
        justify-content: space-between;
        align-items: stretch;
        gap: 20px;
        margin-top: 20px;
      }

      .chart-container {
        flex: 1;
        background-color: white;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .chart-container h3 {
        text-align: center;
        margin-bottom: 15px;
        color: #333;
        font-size: 18px;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .investment-charts-container {
          flex-direction: column;
          gap: 15px;
        }

        .chart-container {
          max-width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <nav>
      <div class="logo">
        <img src="TRACKVEST.png" alt="" />
      </div>
      <div class="menu-toggle">☰</div>
      <div class="menu">
        <ul>
          <li><a href="/" class="home">Home</a></li>
          <div class="dropdown">
            <li class="services">Services</li>
            <div class="dropdown-content">
              <div class="stock-market">
                <a href="#">Stock Market</a>
                <div class="stock-market-content">
                  <a href="stock.html">Stock</a>
                  <div class="mutual-fund">
                    <a href="#">Mutual Funds</a>
                    <div class="mutual-fund-content">
                      <a href="sip.html">SIP</a>
                      <a href="swp.html">SWP</a>
                      <a href="stp.html">STP</a>
                    </div>
                  </div>
                  <a href="f&o.html">Future & Options</a>
                </div>
              </div>
              <div class="banking">
                <a href="#">Banking</a>
                <div class="banking-content">
                  <a href="fd.html">FD</a>
                  <a href="rd.html">RD</a>
                  <a href="ppf.html">PPF</a>
                </div>
              </div>
              <div class="post-office">
                <a href="#">Post Office</a>
                <div class="post-office-content">
                  <a href="po_fd.html">FD</a>
                  <a href="po_rd.html">RD</a>
                  <a href="po_ppf.html">PPF</a>
                </div>
              </div>
              <div class="real-estate">
                <a href="#">Real Estate</a>
                <div class="real-estate-content">
                  <a href="land.html">Land</a>
                  <a href="flat-house.html">Flat/House</a>
                  <a href="shop.html">Shop</a>
                </div>
              </div>
              <a href="gold-silver.html">Gold/Silver</a>
            </div>
          </div>
          <li><a href="about.html" target="_blank">About</a></li>
          <li><a href="contact.html" target="_blank">Contact</a></li>
        </ul>
      </div>
    </nav>
    <div class="user">
      <img id="user" src="user.png" alt="" />
      <div>
        <p class="logOut">Log Out</p>
      </div>
    </div>

    <div class="analysis-container">
      <div class="analysis-header">
        <h1>Investment Analysis</h1>
        <div class="service-filters">
          <button class="filter-button active" data-filter="all">All</button>
          <button class="filter-button" data-filter="stock">
            Stock Market
          </button>
          <button class="filter-button" data-filter="banking">Banking</button>
          <button class="filter-button" data-filter="post">Post Office</button>
          <button class="filter-button" data-filter="real">Real Estate</button>
          <button class="filter-button" data-filter="gold">Gold/Silver</button>
        </div>
      </div>

      <div class="analysis-card total-investments">
        <h2>Total Investments</h2>
        <div class="investment-amount">₹12,34,567</div>
        <div class="chart-container">
          <canvas id="investmentChart"></canvas>
        </div>
        <!-- Inside the total-investments div, add a container for both charts -->
        <div class="investment-charts-container">
          <div class="chart-container pie-chart-container">
            <h3>Investment Allocation</h3>
            <canvas id="investmentChart"></canvas>
          </div>
          <div class="chart-container bar-chart-container">
            <h3>Investment Distribution</h3>
            <canvas id="investmentBarChart"></canvas>
          </div>
        </div>
      </div>

      <div class="analysis-card">
        <h2>Performance Overview</h2>
        <div class="performance-metrics">
          <div class="metric-card">
            <h3>Total Returns</h3>
            <span class="metric-value">₹1,45,890</span>
            <span class="metric-change positive-change">+11.8%</span>
          </div>
          <div class="metric-card">
            <h3>Monthly Growth</h3>
            <span class="metric-value">₹12,450</span>
            <span class="metric-change positive-change">+0.9%</span>
          </div>
          <div class="metric-card">
            <h3>Best Performing</h3>
            <span class="metric-value">Stock Market</span>
            <span class="metric-change positive-change">+18.2%</span>
          </div>
          <div class="metric-card">
            <h3>Worst Performing</h3>
            <span class="metric-value">Banking</span>
            <span class="metric-change negative-change">-2.1%</span>
          </div>
        </div>
      </div>

      <div class="analysis-card">
        <h2>Investment Details</h2>
        <table class="investment-table">
          <thead>
            <tr>
              <th>Category</th>
              <th>Investment</th>
              <th>Value</th>
              <th>Returns</th>
              <th>Change</th>
            </tr>
          </thead>
          <tbody>
            <tr data-category="stock">
              <td>Stock Market</td>
              <td>Reliance Industries</td>
              <td>₹2,50,000</td>
              <td>₹45,000</td>
              <td class="positive-change">+18.0%</td>
            </tr>
            <tr data-category="stock">
              <td>Stock Market</td>
              <td>HDFC Bank</td>
              <td>₹1,75,000</td>
              <td>₹23,800</td>
              <td class="positive-change">+13.6%</td>
            </tr>
            <tr data-category="banking">
              <td>Banking</td>
              <td>SBI FD</td>
              <td>₹2,00,000</td>
              <td>₹14,000</td>
              <td class="positive-change">+7.0%</td>
            </tr>
            <tr data-category="post">
              <td>Post Office</td>
              <td>PPF Account</td>
              <td>₹1,50,000</td>
              <td>₹11,250</td>
              <td class="positive-change">+7.5%</td>
            </tr>
            <tr data-category="real">
              <td>Real Estate</td>
              <td>Property in Mumbai</td>
              <td>₹3,50,000</td>
              <td>₹42,000</td>
              <td class="positive-change">+12.0%</td>
            </tr>
            <tr data-category="gold">
              <td>Gold/Silver</td>
              <td>Gold ETF</td>
              <td>₹1,09,567</td>
              <td>₹9,840</td>
              <td class="positive-change">+9.0%</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <script>
      // Investment Chart with Pie and Bar Chart
      function createInvestmentCharts() {
        const ctx = document.getElementById("investmentChart").getContext("2d");

        // Data for investments
        const chartData = {
          labels: [
            "Stock Market",
            "Banking",
            "Post Office",
            "Real Estate",
            "Gold/Silver",
          ],
          data: [425000, 200000, 150000, 350000, 109567],
          backgroundColor: [
            "#4e73df", // Stock Market - Blue
            "#1cc88a", // Banking - Green
            "#36b9cc", // Post Office - Teal
            "#f6c23e", // Real Estate - Yellow
            "#e74a3b", // Gold/Silver - Red
          ],
        };

        // Pie Chart
        const pieChart = new Chart(ctx, {
          type: "doughnut",
          data: {
            labels: chartData.labels,
            datasets: [
              {
                data: chartData.data,
                backgroundColor: chartData.backgroundColor,
                borderWidth: 1,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            cutout: "70%",
            plugins: {
              legend: {
                position: "right",
                labels: {
                  boxWidth: 12,
                },
              },
            },
          },
        });

        // Bar Chart
        const barCtx = document
          .getElementById("investmentBarChart")
          .getContext("2d");
        const barChart = new Chart(barCtx, {
          type: "bar",
          data: {
            labels: chartData.labels,
            datasets: [
              {
                label: "Investment Amount",
                data: chartData.data,
                backgroundColor: chartData.backgroundColor,
                borderColor: chartData.backgroundColor.map((color) =>
                  color.replace("0.7)", "1)")
                ),
                borderWidth: 1,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            scales: {
              y: {
                beginAtZero: true,
                title: {
                  display: true,
                  text: "Investment Amount (₹)",
                },
                ticks: {
                  callback: function (value) {
                    return "₹" + value.toLocaleString();
                  },
                },
              },
            },
            plugins: {
              tooltip: {
                callbacks: {
                  label: function (context) {
                    let label = context.dataset.label || "";
                    if (label) {
                      label += ": ";
                    }
                    if (context.parsed.y !== null) {
                      label += "₹" + context.parsed.y.toLocaleString();
                    }
                    return label;
                  },
                },
              },
            },
          },
        });

        return { pieChart, barChart };
      }

      document.addEventListener("DOMContentLoaded", function () {
        // Existing code...

        // Create investment charts
        const investmentCharts = createInvestmentCharts();

        // Filter functionality (modify to update both charts)
        const filterButtons = document.querySelectorAll(".filter-button");
        const tableRows = document.querySelectorAll(
          ".investment-table tbody tr"
        );

        filterButtons.forEach((button) => {
          button.addEventListener("click", () => {
            // Remove active class from all buttons
            filterButtons.forEach((btn) => btn.classList.remove("active"));

            // Add active class to clicked button
            button.classList.add("active");

            const filter = button.getAttribute("data-filter");

            // Show/hide table rows based on filter
            tableRows.forEach((row) => {
              if (filter === "all") {
                row.style.display = "";
              } else {
                const category = row.getAttribute("data-category");
                row.style.display = category === filter ? "" : "none";
              }
            });

            // Filter data for charts
            const filteredData = {
              all: {
                labels: [
                  "Stock Market",
                  "Banking",
                  "Post Office",
                  "Real Estate",
                  "Gold/Silver",
                ],
                data: [425000, 200000, 150000, 350000, 109567],
              },
              stock: {
                labels: ["Reliance Industries", "HDFC Bank"],
                data: [250000, 175000],
              },
              banking: {
                labels: ["SBI FD"],
                data: [200000],
              },
              post: {
                labels: ["PPF Account"],
                data: [150000],
              },
              real: {
                labels: ["Property in Mumbai"],
                data: [350000],
              },
              gold: {
                labels: ["Gold ETF"],
                data: [109567],
              },
            };

            const chartData = filteredData[filter] || filteredData["all"];

            // Update both pie and bar charts
            investmentCharts.pieChart.data.labels = chartData.labels;
            investmentCharts.pieChart.data.datasets[0].data = chartData.data;
            investmentCharts.pieChart.update();

            investmentCharts.barChart.data.labels = chartData.labels;
            investmentCharts.barChart.data.datasets[0].data = chartData.data;
            investmentCharts.barChart.update();
          });
        });
      });
    </script>
  </body>
</html>
